<!DOCTYPE html>
<html lang="en">
    <head>
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <title>Subcomponents | Fluid Infusion</title>
        <link rel="stylesheet" href="../css/normalize.css">
        <link rel="stylesheet" href="../css/foundation.css">
        <link rel="stylesheet" href="../css/highlightjs-custom.css">
        <link rel="stylesheet" href="../css/octicons.css">
        <link rel="stylesheet" type="text/css" href="../lib/infusion/src/framework/preferences/css/Enactors.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/src/framework/preferences/css/PrefsEditor.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/src/framework/preferences/css/SeparatedPanelPrefsEditor.css" />
        <link rel="stylesheet" href="../css/infusion-docs.css">

        <link rel="icon" type="image/png" href="../images/favico.png">

        <script type="text/javascript" src="../lib/infusion/infusion-uiOptions.js"></script>
        <script type="text/javascript" src="../js/infusion-docs.js"></script>

    </head>
    <body class="infusion-docs fl-theme-prefsEditor-default">

        <div class="container infusion-docs-container">

            <!-- Skip Link -->
            <div id="skip">
                <a href="#tableOfContents">Jump to Table of Contents</a>
                <a href="#content">Skip to Content</a>
            </div>
            <!-- END skip link -->

            <!-- BEGIN markup for Preference Editor -->
            <div class="flc-prefsEditor-separatedPanel fl-prefsEditor-separatedPanel">
                <!-- This is the div that will contain the Preference Editor component -->
                <div class="flc-slidingPanel-panel flc-prefsEditor-iframe"></div>

                <!-- This div is for the sliding panel that shows and hides the Preference Editor controls -->
                <div class="fl-panelBar">
                    <span class="fl-prefsEditor-buttons">
                        <button id="reset" class="flc-prefsEditor-reset fl-prefsEditor-reset"><span class="fl-icon-undo"></span> Reset</button>
                        <button id="show-hide" class="flc-slidingPanel-toggleButton fl-prefsEditor-showHide">+ Show Display Preferences</button>
                    </span>
                </div>
            </div>

            <script type="text/javascript">
                fluid.uiOptions.prefsEditor(".flc-prefsEditor-separatedPanel", {
                    terms: {
                        "templatePrefix": "../lib/infusion/src/framework/preferences/html",
                        "messagePrefix": "../lib/infusion/src/framework/preferences/messages"
                    },
                    "tocTemplate": "../lib/infusion/src/components/tableOfContents/html/TableOfContents.html"
                });
            </script>

            <!-- END markup for Preference Editor -->

            <header class="row infusion-docs-header">
                <div class="infusion-docs-fluidLogo small-12 medium-3 column">
                    <a class="infusion-docs-fluidLogoText" href="../index.html" title="Infusion">infusion</a>
                </div>

                <nav class="infusion-docs-fluidCategories small-12 medium-9 column">
                    
                    
                        
                            <a href="../index.html" title="Infusion">Infusion</a>
                        
                    
                        
                            <a href="../index-tutorials.html" title="Tutorials" class="infusion-docs-category-active">Tutorials</a>
                        
                    
                        
                            <a href="../index-components.html" title="Components">Components</a>
                        
                    
                </nav>
            </header>

            <div class="infusion-docs-mainBody">
                <nav id="tableOfContents" class="infusion-docs-TOC small-12 medium-3 column" tabindex="-1">
                    
                        
                        
                    
                        
                        
                            <span class="infusion-docs-category">Tutorials</span>
                            
                                <span class="infusion-docs-sectionName">Developer Introduction to the Infusion Framework</span>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-OpeningRemarks.html"><span class="infusion-docs-TOC-pageName">Opening Remarks</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-Components.html"><span class="infusion-docs-TOC-pageName">Components</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-Invokers.html"><span class="infusion-docs-TOC-pageName">Invokers</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-EventsAndInversionOfControl.html"><span class="infusion-docs-TOC-pageName">Events and Inversion of Control</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-ModelsAndModelComponents.html"><span class="infusion-docs-TOC-pageName">Models and Model Components</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-ViewsAndViewComponents.html"><span class="infusion-docs-TOC-pageName">Views and View Components</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-SubcomponentsAndModelRelaying.html"><span class="infusion-docs-TOC-pageName">Subcomponents and Model Relaying</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-RestructuringComponents.html"><span class="infusion-docs-TOC-pageName">Restructuring Components</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-OverridingInvokersAndRefactoring.html"><span class="infusion-docs-TOC-pageName">Overriding Invokers and Refactoring</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-ExtendingDesignsWithExistingComponents.html"><span class="infusion-docs-TOC-pageName">Extending Designs with Existing Components</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-TransformingModelRelays.html"><span class="infusion-docs-TOC-pageName">Transforming Model Relays</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-ConcludingRemarks.html"><span class="infusion-docs-TOC-pageName">Concluding Remarks</span></a>
                                            
                                        </li>
                                    
                                </ul>
                            
                                <span class="infusion-docs-sectionName">Getting Started with Infusion Component Design</span>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="GettingStartedWithInfusion.html"><span class="infusion-docs-TOC-pageName">Getting Started with Infusion Component Design</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="SetUpYourEnvironment.html"><span class="infusion-docs-TOC-pageName">Set up your environment</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="DefineANamespaceAndCreateAClosure.html"><span class="infusion-docs-TOC-pageName">Define a namespace and create a closure</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="PickAComponentType.html"><span class="infusion-docs-TOC-pageName">Pick a component type</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="BasicComponentCreation-Components.html"><span class="infusion-docs-TOC-pageName">Basic Component Creation</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="ModelComponents.html"><span class="infusion-docs-TOC-pageName">Model Components</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="ViewComponents.html"><span class="infusion-docs-TOC-pageName">View Components</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="RendererComponents.html"><span class="infusion-docs-TOC-pageName">Renderer Components</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <span class="infusion-docs-TOC-pageName">Subcomponents</span>
                                            
                                        </li>
                                    
                                </ul>
                            
                                <span class="infusion-docs-sectionName">General</span>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-usingStringTemplates/UsingStringTemplates.html"><span class="infusion-docs-TOC-pageName">Using String Templates</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-iconFonts/HowToCreateAndUseFontIcons.html"><span class="infusion-docs-TOC-pageName">How to Create and Use Font Icons</span></a>
                                            
                                        </li>
                                    
                                </ul>
                            
                                <span class="infusion-docs-sectionName">Preferences Framework</span>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-prefsFramework/CreatingAPrefsEditor.html"><span class="infusion-docs-TOC-pageName">Creating a Preference Editor</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-prefsFramework/CreatingEnactors.html"><span class="infusion-docs-TOC-pageName">Creating Enactors</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-prefsFramework/InstantiatingTheEnhancerAndSettingsStoreOnly.html"><span class="infusion-docs-TOC-pageName">Instantiating the Enhancer and Settings Store Only</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-prefsFramework/StylingThePreferencesEditor.html"><span class="infusion-docs-TOC-pageName">Styling the Preferences Editor</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../to-do/AddingPrefsEditorToSite.html"><span class="infusion-docs-TOC-pageName">Adding a Basic Preferences Editor to a Site</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../to-do/WorkingWithPrefsEditorOnSite.html"><span class="infusion-docs-TOC-pageName">Working With A Preferences Editor On Your Site</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-prefsFramework/CreatingANewAdjusterUI.html"><span class="infusion-docs-TOC-pageName">Creating a New Adjuster UI</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-prefsFrameworkMinimalFootprint/MinimalFootprint.html"><span class="infusion-docs-TOC-pageName">Minimal Footprint</span></a>
                                            
                                        </li>
                                    
                                </ul>
                            
                                <span class="infusion-docs-sectionName">User Interface Options</span>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="../tutorial-userInterfaceOptions/UserInterfaceOptions.html"><span class="infusion-docs-TOC-pageName">User Interface Options</span></a>
                                            
                                        </li>
                                    
                                </ul>
                            
                        
                    
                        
                        
                    
                </nav>

                <article id="content" class="infusion-docs-mainContent small-12 medium-9 column" tabindex="-1">
                    <div class="infusion-docs-articleContainer">

                        <div class="flc-toc-tocContainer infusion-docs-toc"> </div>

                        <h1>Subcomponents</h1>

                        <p class="infusion-docs-githubLink"><a href="https://github.com/fluid-project/infusion-docs/blob/master/src/documents/tutorial-gettingStartedWithInfusion/Subcomponents.md" target="_blank">Edit on GitHub</a></p>

                        

                        <div class="infusion-docs-articleBody">
                            <hr>
<p>Part of the <a href="GettingStartedWithInfusion.html">Getting Started with Infusion Component Design Tutorial</a></p>
<hr>
<p>If you&#39;ve done any object-oriented programming, you&#39;re probably familiar with the idea of packaging up functionality into small, reusable, modular bundles. The Infusion Framework provides many supports for designing your application as a collection of components that work together. Components can be combined with parent-child relationships, creating a <strong>component</strong> tree.</p>
<h2 id="declaring-subcomponents">Declaring subcomponents</h2>
<p>Using the Inversion of Control system, subcomponents are declared in a special property of the parent&#39;s defaults called <code>components</code>. The <code>components</code> object is collection of key/value pairs:</p>
<ul>
<li>the key is a name for the subcomponent</li>
<li>the value is an object that describes the subcomponent.</li>
</ul>
<p>The subcomponent object can contain many properties, but the main one is the <code>type</code>, which is the string name of the subcomponent function.</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// Define one subcomponent</span>
fluid.defaults(<span class="hljs-string">"tutorials.subcomponent1"</span>, {
    gradeNames: [<span class="hljs-string">"fluid.component"</span>]
});

<span class="hljs-comment">// Define another subcomponent</span>
fluid.defaults(<span class="hljs-string">"tutorials.subcomponent2"</span>, {
    gradeNames: [<span class="hljs-string">"fluid.component"</span>]
});

<span class="hljs-comment">// Define the parent component, to use the subcomponents</span>
fluid.defaults(<span class="hljs-string">"tutorials.parentComponent"</span>, {
    gradeNames: [<span class="hljs-string">"fluid.component"</span>],
    components: {
        child1: {
            type: <span class="hljs-string">"tutorials.subcomponent1"</span>
        },
        child2: {
            type: <span class="hljs-string">"tutorials.subcomponent2"</span>
        }
    }
});
</code></pre>
<h2 id="configuring-subcomponents">Configuring Subcomponents</h2>
<p>In addition to the <code>type</code> of subcomponent, other configuration information can be given. These include:</p>
<ul>
<li>the container to use (for view components)</li>
<li>a list of subcomponent <code>options</code>, for overriding the defaults of the subcomponent</li>
<li>properties for controlling the timing of subcomponents, such as <code>priority</code> and <code>createOnEvent</code></li>
</ul>
<h2 id="example-user-interface-options">Example: User Interface Options</h2>
<p>The Infusion <a href="../to-do/UserInterfaceOptions.html">UI Options</a> component presents a collection of controls that allow a user to specify their preferences for customizing the presentation of the user interface and content resources. It works with the User Interface Enhancer (UI Enhancer), which carries out the transformations based on the recorded preferences.</p>
<p>The UI Options component has a component tree as shown below. Essentially:</p>
<ul>
<li>UI Options comes in three different versions, each of which have a UI Options subcomponent:<ul>
<li>Separated Panel,</li>
<li>Full, without Preview, and</li>
<li>Full page, with Preview.</li>
</ul>
</li>
<li>The &#39;separated panel&#39; version is presented as a sliding panel at the top of a page, and so has a Sliding Panel subcomponent.</li>
<li>The &#39;separated panel&#39; version applies changes directly to the page as they are being adjusted, so it has a Live Preview subcomponent.</li>
<li>The &#39;full, with preview&#39; version has a Preview subcomponent</li>
<li>The &#39;full page, without preview&#39; version has no subcomponents other than UI Options.</li>
<li>The UI Options component has three subcomponents for the three different types of controls presented.</li>
</ul>
<p>You can see from this tree that the UIOptions component is being re-used by the three different versions.</p>
<p><img src="../images/uiOptions-component-tree.svg" alt="Diagram showing UI Option&#39;s component tree"></p>
<p>These relationships can be expressed using the following definitions:</p>
<pre class="highlight"><code class="hljs javascript">fluid.defaults(<span class="hljs-string">"fluid.separatedPanel"</span>, {
    gradeNames: [<span class="hljs-string">"fluid.viewComponent"</span>],
    components: {
        uiOptions: {
            type: <span class="hljs-string">"fluid.uiOptions"</span>,
            createOnEvent: <span class="hljs-string">"onUIOptionsTemplateReady"</span>,
            container: <span class="hljs-string">".flc-slidingPanel-panel"</span>
        },
        slidingPanel: {
            type: <span class="hljs-string">"fluid.slidingPanel"</span>,
            container: <span class="hljs-string">"{separatedPanel}.container"</span>
        },
        preview: {
            type: <span class="hljs-string">"fluid.uiOptions.livePreview"</span>
        }
    }
});

fluid.defaults(<span class="hljs-string">"fluid.fullNoPreviewUIOptions"</span>, {
    gradeNames: [<span class="hljs-string">"fluid.viewComponent"</span>],
    components: {
        uiOptions: {
            type: <span class="hljs-string">"fluid.uiOptions"</span>,
            createOnEvent: <span class="hljs-string">"onUIOptionsTemplateReady"</span>,
            container: <span class="hljs-string">"{fullNoPreviewUIOptions}.container"</span>
        }
    }
});

fluid.defaults(<span class="hljs-string">"fluid.fullPreviewUIOptions"</span>, {
    gradeNames: [<span class="hljs-string">"fluid.viewComponent"</span>],
    components: {
        uiOptions: {
            type: <span class="hljs-string">"fluid.uiOptions"</span>,
            createOnEvent: <span class="hljs-string">"onUIOptionsTemplateReady"</span>,
            container: <span class="hljs-string">"{fullPreviewUIOptions}.container"</span>
        },
        preview: {
            type: <span class="hljs-string">"fluid.uiOptions.preview"</span>,
            createOnEvent: <span class="hljs-string">"onUIOptionsReady"</span>
        }
    }
});

fluid.defaults(<span class="hljs-string">"fluid.uiOptions"</span>, {
    gradeNames: [<span class="hljs-string">"fluid.viewComponent"</span>],
    components: {
        textControls: {
            type: <span class="hljs-string">"fluid.uiOptions.textControls"</span>,
            container: <span class="hljs-string">"{uiOptions}.dom.textControls"</span>,
            options: {
                textSize: <span class="hljs-string">"{uiOptions}.options.textSize"</span>,
                lineSpacing: <span class="hljs-string">"{uiOptions}.options.lineSpacing"</span>,
                model: <span class="hljs-string">"{uiOptions}.model"</span>,
            }
        },
        layoutControls: {
            type: <span class="hljs-string">"fluid.uiOptions.layoutControls"</span>,
            container: <span class="hljs-string">"{uiOptions}.dom.layoutControls"</span>,
            options: {
                model: <span class="hljs-string">"{uiOptions}.model"</span>,
            }
        },
        linksControls: {
            type: <span class="hljs-string">"fluid.uiOptions.linksControls"</span>,
            container: <span class="hljs-string">"{uiOptions}.dom.linksControls"</span>,
            options: {
                model: <span class="hljs-string">"{uiOptions}.model"</span>,
            }
        }
    }
});
</code></pre>

                        </div>
                    </div>

                    <footer class="row infusion-docs-footer">
                        <p class="infusion-docs-footerInfusion">Infusion is created by the <a href="http://fluidproject.org/" target="_blank">Fluid Project</a>,<br/>
                        a project of the <a href="http://idrc.ocad.ca/" target="_blank">Inclusive Design Research Centre</a> at <a href="http://www.ocadu.ca/" target="_blank">OCAD University</a>, funded by a grant from <a href="http://www.mellon.org/" target="_blank">The Andrew W. Mellon Foundation</a>.</p>
                    </footer>

                </article>

            </div>


        </div> <!-- end container -->
        <script>
            fluid.docs.onLoad();
        </script>

    </body>

</html>
